(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(60)},47:function(e,t,a){},51:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(30),c=a.n(l),o=(a(47),a(5)),u=(a(49),a(51),a(20)),i=a(0),s=a(12),m=a(61);function d(e){var t=Object(i.l)(),a=Object(n.useState)(!1),l=Object(o.a)(a,2),c=l[0],u=l[1],d=Object(n.useState)(""),E=Object(o.a)(d,2),h=E[0],p=E[1],f=Object(n.useState)(""),b=Object(o.a)(f,2),g=b[0],v=b[1];return r.a.createElement("div",{className:"Auth-form-container"},r.a.createElement(s.a,{noValidate:!0,validated:c,onSubmit:function(a){if(a.preventDefault(),!1===a.currentTarget.checkValidity())return a.stopPropagation(),void u(!0);m.a.post("/api/login",{email:h,user_password:g}).then(function(a){e.onAuth(a.data.token),t("/Users")}).catch(function(e){console.log(e),alert("Error occurred")})},className:"Auth-form"},r.a.createElement("div",{className:"Auth-form-content"},r.a.createElement("h3",{className:"Auth-form-title"},"\u0423\u0432\u0430\u0439\u0441\u044c\u0446\u0456"),r.a.createElement("div",{className:"text-center"},"\u0428\u0447\u044d \u043d\u0435 \u0437\u0430\u0440\u044d\u0433\u0456\u0441\u0442\u0440\u0430\u0432\u0430\u043b\u0456\u0441\u044f? ","",r.a.createElement("span",{className:"link-primary",onClick:e.onChangeAuthMode},"\u0417\u0430\u0440\u044d\u0433\u0456\u0441\u0442\u0440\u0430\u0432\u0430\u0446\u0446\u0430")),r.a.createElement(s.a.Group,{className:"mt-3"},r.a.createElement(s.a.Label,null,"Email \u0430\u0434\u0440\u0430\u0441"),r.a.createElement(s.a.Control,{value:h,onChange:function(e){return p(e.target.value)},required:!0,type:"email",className:"mt-1",placeholder:"\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 email"})),r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement(s.a.Label,null,"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(s.a.Control,{value:g,onChange:function(e){return v(e.target.value)},required:!0,type:"password",className:"mt-1",placeholder:"\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("div",{className:"d-grid gap-2 mt-3"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u041f\u0430\u0434\u0446\u044c\u0432\u0435\u0440\u0434\u0437\u0456\u0446\u044c")))))}function E(e){var t=Object(i.l)(),a=Object(n.useState)(!1),l=Object(o.a)(a,2),c=l[0],u=l[1],d=Object(n.useState)(""),E=Object(o.a)(d,2),h=E[0],p=E[1],f=Object(n.useState)(""),b=Object(o.a)(f,2),g=b[0],v=b[1],j=Object(n.useState)(""),N=Object(o.a)(j,2),O=N[0],k=N[1];return r.a.createElement("div",{className:"Auth-form-container"},r.a.createElement(s.a,{noValidate:!0,validated:c,onSubmit:function(a){if(a.preventDefault(),!1===a.currentTarget.checkValidity())return a.stopPropagation(),void u(!0);m.a.post("/api/users/",{user_name:h,email:g,user_password:O}).then(function(a){e.onAuth(a.data.token),t("/Users")}).catch(function(e){console.log(e),alert("Error occurred")})},className:"Auth-form"},r.a.createElement("div",{className:"Auth-form-content"},r.a.createElement("h3",{className:"Auth-form-title"},"\u0417\u0430\u0440\u044d\u0433\u0456\u0441\u0442\u0440\u0430\u0432\u0430\u0446\u0446\u0430"),r.a.createElement("div",{className:"text-center"},"\u0423\u0436\u043e \u0437\u0430\u0440\u044d\u0433\u0456\u0441\u0442\u0440\u0430\u0432\u0430\u043b\u0456\u0441\u044f? ","",r.a.createElement("span",{className:"link-primary",onClick:e.onChangeAuthMode},"\u0423\u0432\u0430\u0439\u0441\u044c\u0446\u0456")),r.a.createElement(s.a.Group,{className:"mt-3"},r.a.createElement(s.a.Label,null,"\u0406\u043c\u044f"),r.a.createElement(s.a.Control,{required:!0,onChange:function(e){return p(e.target.value)},value:h,type:"text",className:"mt-1",placeholder:"\u043d\u0430\u043f\u0440\u044b\u043a\u043b\u0430\u0434 \u041b\u044f\u0432\u043e\u043d \u0411\u0430\u0440\u0448\u0447\u044d\u045e\u0441\u043a\u0456"})),r.a.createElement(s.a.Group,{className:"mt-3"},r.a.createElement(s.a.Label,null,"Email \u0430\u0434\u0440\u0430\u0441"),r.a.createElement(s.a.Control,{value:g,required:!0,onChange:function(e){return v(e.target.value)},type:"email",className:"mt-1",placeholder:"Email \u0430\u0434\u0440\u0430\u0441"})),r.a.createElement(s.a.Group,{className:"mt-3"},r.a.createElement(s.a.Label,null,"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(s.a.Control,{value:O,required:!0,onChange:function(e){return k(e.target.value)},type:"password",className:"mt-1",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("div",{className:"d-grid gap-2 mt-3"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u041f\u0430\u0434\u0446\u044c\u0432\u0435\u0440\u0434\u0437\u0456\u0446\u044c")))))}function h(e){var t=Object(n.useState)("signin"),a=Object(o.a)(t,2),l=a[0],c=a[1],u=function(){c("signin"===l?"signup":"signin")};return"signin"===l?r.a.createElement(d,{onChangeAuthMode:u,onAuth:e.onAuth}):r.a.createElement(E,{onChangeAuthMode:u,onAuth:e.onAuth})}var p=a(6),f=a(33),b=a(34),g=a(26),v=a(37),j=a(27),N=a(36),O=a(35);var k=function(e){var t=Object(i.l)();e.token?m.a.defaults.headers.common={Authorization:"Bearer ".concat(e.token)}:t("/");var a=Object(n.useState)([]),l=Object(o.a)(a,2),c=l[0],u=l[1],d=Object(n.useState)(!1),E=Object(o.a)(d,2),h=E[0],k=E[1],C=function(){m.a.get("/api/users/").then(function(e){u(e.data),k(!1)}).catch(function(e){401===e.response.status?t("/"):(console.log(e.response.status),alert("Error occurred"))})};Object(n.useEffect)(C,[]);var S=function(e){var a=c.filter(function(e){return e.isSelected});if(0!==a.length){var n=a.map(function(e){return e.user_id});m.a.put("/api/users/block",{ids:n,is_active:e}).then(function(e){C()}).catch(function(e){401===e.response.status?t("/"):(console.log(e.response.status),alert("Error occurred"))})}};return r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(g.a,{className:"m-2"},r.a.createElement(O.a,{"aria-label":"Toolbar with button groups"},r.a.createElement(N.a,{className:"me-2","aria-label":"First group"},r.a.createElement(j.a,{onClick:function(){return S(!1)},variant:"danger"},"\u0417\u0430\u0431\u043b\u044f\u043a\u0430\u0432\u0430\u0446\u044c"),r.a.createElement(j.a,{onClick:function(){return S(!0)},variant:"light",title:"Unblock"},r.a.createElement("span",{role:"img","aria-label":"dog"},"\ud83d\udd13")),r.a.createElement(j.a,{onClick:function(){return function(){var e=c.filter(function(e){return e.isSelected});if(0!==e.length){var a=e.map(function(e){return e.user_id});m.a.put("/api/users/delete",{ids:a}).then(function(e){C()}).catch(function(e){401===e.response.status?t("/"):(console.log(e.response.status),alert("Error occurred"))})}}()},title:"Delete"},r.a.createElement("span",{role:"img","aria-label":"dog"},"\u274c")))))),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(s.a.Check,{inline:!0,checked:h,onChange:function(){var e=!h,t=c.map(function(t){return t.isSelected===e?t:Object(p.a)({},t,{isSelected:e})});k(e),u(t)},"aria-label":"option 1"}),"\u0410\u0431\u0440\u0430\u0446\u044c \u0443\u0441\u0456\u0445"),r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"\u0406\u043c\u044f"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"\u0414\u0430\u0442\u0430 \u0440\u044d\u0433\u0456\u0441\u0442\u0440\u0430\u0446\u044b\u0456"),r.a.createElement("th",null,"\u0414\u0430\u0442\u0430 \u0430\u043f\u043e\u0448\u043d\u044f\u0433\u0430 \u045e\u0432\u0430\u0445\u043e\u0434\u0443"),r.a.createElement("th",null,"\u0421\u0442\u0430\u043d"))),r.a.createElement("tbody",null,c.map(function(e){return r.a.createElement("tr",{key:e.user_id},r.a.createElement("td",null,r.a.createElement(s.a.Check,{onChange:function(){return function(e){var t=Object(p.a)({},e,{isSelected:!e.isSelected}),a=c.map(function(a){return a===e?t:a}),n=a.every(function(e){return e.isSelected});u(a),k(n)}(e)},checked:e.isSelected,"aria-label":"option 1"})),r.a.createElement("td",null,e.user_id),r.a.createElement("td",null,e.user_name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.reg_date),r.a.createElement("td",null,e.last_login_date),r.a.createElement("td",null,e.is_active?"\u0410\u043a\u0442\u044b\u045e\u043d\u044b":"\u0417\u0430\u0431\u043b\u044f\u043a\u0430\u0432\u0430\u043d\u044b"))}))))};var C=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",element:r.a.createElement(h,{onAuth:function(e){l(e)}})}),r.a.createElement(i.a,{path:"/users",element:r.a.createElement(k,{token:a})})))};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)))}},[[38,2,1]]]);
//# sourceMappingURL=main.a1fbbce1.chunk.js.map