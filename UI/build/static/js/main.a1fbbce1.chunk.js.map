{"version":3,"sources":["components/Login.js","components/Signup.js","components/Auth.js","components/Users.js","App.js","index.js"],"names":["Login","props","navigate","useNavigate","_useState","useState","_useState2","Object","slicedToArray","validated","setValidated","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","react_default","a","createElement","className","Form","noValidate","onSubmit","event","preventDefault","currentTarget","checkValidity","stopPropagation","axios","post","user_password","then","response","onAuth","data","token","catch","error","console","log","alert","onClick","onChangeAuthMode","Group","Label","Control","value","onChange","e","target","required","type","placeholder","Signup","name","setName","_useState7","_useState8","user_name","Auth","authMode","setAuthMode","changeAuthMode","Users","defaults","headers","common","Authorization","concat","users","setUsers","allChecked","setAllChecked","getUsers","get","result","err","status","useEffect","handleBlockUsers","is_active","checkedUsers","filter","user","isSelected","length","ids","map","user_id","put","_","Container","Row","Col","ButtonToolbar","aria-label","ButtonGroup","Button","variant","title","role","handleDeleteUsers","Table","striped","bordered","hover","Check","inline","checked","updatedAllChecked","updatedUsers","objectSpread","key","clickedUser","updatedUser","every","handleUserCheck","reg_date","last_login_date","App","undefined","setToken","dist","react_router_dist","path","element","newToken","components_Users","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.a1fbbce1.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Login(props) {\r\n  const navigate = useNavigate();\r\n  const [validated, setValidated] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.stopPropagation();\r\n      setValidated(true);\r\n      return;\r\n    }\r\n    axios\r\n      .post(\"/api/login\", {\r\n        email: email,\r\n        user_password: password,\r\n      })\r\n      .then(function(response) {\r\n        props.onAuth(response.data.token);\r\n        navigate(\"/Users\");\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n        alert(\"Error occurred\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"Auth-form-container\">\r\n      <Form\r\n        noValidate\r\n        validated={validated}\r\n        onSubmit={handleSubmit}\r\n        className=\"Auth-form\"\r\n      >\r\n        <div className=\"Auth-form-content\">\r\n          <h3 className=\"Auth-form-title\">Увайсьці</h3>\r\n          <div className=\"text-center\">\r\n            Шчэ не зарэгістраваліся? {\"\"}\r\n            <span className=\"link-primary\" onClick={props.onChangeAuthMode}>\r\n              Зарэгістравацца\r\n            </span>\r\n          </div>\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Email адрас</Form.Label>\r\n            <Form.Control\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n              type=\"email\"\r\n              className=\"mt-1\"\r\n              placeholder=\"Увядзіце email\"\r\n            />\r\n          </Form.Group>\r\n          <div className=\"form-group mt-3\">\r\n            <Form.Label>Пароль</Form.Label>\r\n            <Form.Control\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              type=\"password\"\r\n              className=\"mt-1\"\r\n              placeholder=\"Увядзіце пароль\"\r\n            />\r\n          </div>\r\n          <div className=\"d-grid gap-2 mt-3\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              Падцьвердзіць\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Signup(props) {\r\n  const navigate = useNavigate();\r\n  const [validated, setValidated] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.stopPropagation();\r\n      setValidated(true);\r\n      return;\r\n    }\r\n    axios\r\n      .post(\"/api/users/\", {\r\n        user_name: name,\r\n        email: email,\r\n        user_password: password,\r\n      })\r\n      .then(function(response) {\r\n        props.onAuth(response.data.token);\r\n        navigate(\"/Users\");\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n        alert(\"Error occurred\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"Auth-form-container\">\r\n      <Form\r\n        noValidate\r\n        validated={validated}\r\n        onSubmit={handleSubmit}\r\n        className=\"Auth-form\"\r\n      >\r\n        <div className=\"Auth-form-content\">\r\n          <h3 className=\"Auth-form-title\">Зарэгістравацца</h3>\r\n          <div className=\"text-center\">\r\n            Ужо зарэгістраваліся? {\"\"}\r\n            <span className=\"link-primary\" onClick={props.onChangeAuthMode}>\r\n              Увайсьці\r\n            </span>\r\n          </div>\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Імя</Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={(e) => setName(e.target.value)}\r\n              value={name}\r\n              type=\"text\"\r\n              className=\"mt-1\"\r\n              placeholder=\"напрыклад Лявон Баршчэўскі\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Email адрас</Form.Label>\r\n            <Form.Control\r\n              value={email}\r\n              required\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              type=\"email\"\r\n              className=\"mt-1\"\r\n              placeholder=\"Email адрас\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Пароль</Form.Label>\r\n            <Form.Control\r\n              value={password}\r\n              required\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              type=\"password\"\r\n              className=\"mt-1\"\r\n              placeholder=\"Пароль\"\r\n            />\r\n          </Form.Group>\r\n          <div className=\"d-grid gap-2 mt-3\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              Падцьвердзіць\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Login from \"./Login\";\r\nimport Signup from \"./Signup\";\r\n\r\nexport default function Auth(props) {\r\n  let [authMode, setAuthMode] = useState(\"signin\");\r\n\r\n  const changeAuthMode = () => {\r\n    setAuthMode(authMode === \"signin\" ? \"signup\" : \"signin\");\r\n  };\r\n\r\n  if (authMode === \"signin\") {\r\n    return <Login onChangeAuthMode={changeAuthMode} onAuth={props.onAuth} />;\r\n  }\r\n\r\n  return <Signup onChangeAuthMode={changeAuthMode} onAuth={props.onAuth} />;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport ButtonToolbar from \"react-bootstrap/ButtonToolbar\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Users(props) {\r\n  const navigate = useNavigate();\r\n\r\n  if (props.token) {\r\n    axios.defaults.headers.common = { Authorization: `Bearer ${props.token}` };\r\n  } else {\r\n    navigate(\"/\");\r\n  }\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [allChecked, setAllChecked] = useState(false);\r\n\r\n  const getUsers = () => {\r\n    axios\r\n      .get(\"/api/users/\")\r\n      .then((result) => {\r\n        setUsers(result.data);\r\n        setAllChecked(false);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 401) {\r\n          navigate(\"/\");\r\n        } else {\r\n          console.log(err.response.status);\r\n          alert(\"Error occurred\");\r\n        }\r\n      });\r\n  };\r\n\r\n  useEffect(getUsers, []);\r\n\r\n  function handleUserCheck(clickedUser) {\r\n    const updatedUser = { ...clickedUser, isSelected: !clickedUser.isSelected };\r\n    const updatedUsers = users.map((user) =>\r\n      user === clickedUser ? updatedUser : user\r\n    );\r\n    const updatedAllChecked = updatedUsers.every((user) => user.isSelected);\r\n    setUsers(updatedUsers);\r\n    setAllChecked(updatedAllChecked);\r\n  }\r\n\r\n  function handleHeaderCheck() {\r\n    const updatedAllChecked = !allChecked;\r\n    const updatedUsers = users.map((user) =>\r\n      user.isSelected === updatedAllChecked\r\n        ? user\r\n        : { ...user, isSelected: updatedAllChecked }\r\n    );\r\n    setAllChecked(updatedAllChecked);\r\n    setUsers(updatedUsers);\r\n  }\r\n\r\n  const handleBlockUsers = (is_active) => {\r\n    const checkedUsers = users.filter((user) => user.isSelected);\r\n    if (checkedUsers.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const ids = checkedUsers.map((user) => user.user_id);\r\n    axios\r\n      .put(\"/api/users/block\", {\r\n        ids,\r\n        is_active,\r\n      })\r\n      .then((_) => {\r\n        getUsers();\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 401) {\r\n          navigate(\"/\");\r\n        } else {\r\n          console.log(err.response.status);\r\n          alert(\"Error occurred\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const handleDeleteUsers = () => {\r\n    const checkedUsers = users.filter((user) => user.isSelected);\r\n    if (checkedUsers.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const ids = checkedUsers.map((user) => user.user_id);\r\n    axios\r\n      .put(\"/api/users/delete\", {\r\n        ids,\r\n      })\r\n      .then((_) => {\r\n        getUsers();\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 401) {\r\n          navigate(\"/\");\r\n        } else {\r\n          console.log(err.response.status);\r\n          alert(\"Error occurred\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col className=\"m-2\">\r\n          <ButtonToolbar aria-label=\"Toolbar with button groups\">\r\n            <ButtonGroup className=\"me-2\" aria-label=\"First group\">\r\n              <Button onClick={() => handleBlockUsers(false)} variant=\"danger\">\r\n                Заблякаваць\r\n              </Button>\r\n              <Button\r\n                onClick={() => handleBlockUsers(true)}\r\n                variant=\"light\"\r\n                title=\"Unblock\"\r\n              >\r\n                <span role=\"img\" aria-label=\"dog\">\r\n                  🔓\r\n                </span>\r\n              </Button>\r\n              <Button onClick={() => handleDeleteUsers()} title=\"Delete\">\r\n                <span role=\"img\" aria-label=\"dog\">\r\n                  ❌\r\n                </span>\r\n              </Button>\r\n            </ButtonGroup>\r\n          </ButtonToolbar>\r\n        </Col>\r\n      </Row>\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              <Form.Check\r\n                inline\r\n                checked={allChecked}\r\n                onChange={handleHeaderCheck}\r\n                aria-label=\"option 1\"\r\n              />\r\n              Абраць усіх\r\n            </th>\r\n            <th>ID</th>\r\n            <th>Імя</th>\r\n            <th>Email</th>\r\n            <th>Дата рэгістрацыі</th>\r\n            <th>Дата апошняга ўваходу</th>\r\n            <th>Стан</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {users.map((user) => (\r\n            <tr key={user.user_id}>\r\n              <td>\r\n                <Form.Check\r\n                  onChange={() => handleUserCheck(user)}\r\n                  checked={user.isSelected}\r\n                  aria-label=\"option 1\"\r\n                />\r\n              </td>\r\n              <td>{user.user_id}</td>\r\n              <td>{user.user_name}</td>\r\n              <td>{user.email}</td>\r\n              <td>{user.reg_date}</td>\r\n              <td>{user.last_login_date}</td>\r\n              <td>{user.is_active ? \"Актыўны\" : \"Заблякаваны\"}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","import React, { useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Auth from \"./components/Auth\";\nimport Users from \"./components/Users\";\n\nfunction App() {\n  const [token, setToken] = useState(undefined);\n\n  const handleAuth = (newToken) => {\n    setToken(newToken);\n  };\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Auth onAuth={handleAuth} />} />\n        <Route path=\"/users\" element={<Users token={token} />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}